import{c as g,j as e,r,u as f,a as v,b as y,T as S,h as w}from"./index-9d46c87f.js";import{S as P}from"./PostModalStyled-90e49d7c.js";import"./styled-75809262.js";import"./Input-f57ea956.js";import"./useFormControl-fffb245f.js";import"./Button-8bf7d3a4.js";import"./Dialog-ef753470.js";import"./Modal-c3b73e07.js";const N=g(e("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile");const j=()=>{const[o,l]=r.useState(null),[n,p]=r.useState(""),{loading:d,error:i,message:c}=f(t=>t.like),a=v(),m=t=>{const h=t.target.files[0],s=new FileReader;s.readAsDataURL(h),s.onload=()=>{s.readyState===2&&l(s.result)}},u=t=>{t.preventDefault(),a(w(n,o))};return r.useEffect(()=>{i&&a({type:"clearErrors"}),c&&a({type:"clearMessage"})},[a,i,c]),e("div",{className:"newPost",children:y("form",{className:"newPostForm",onSubmit:u,children:[e(S,{variant:"h5",children:"New Post"}),o&&e("img",{src:o,alt:"post"}),e("input",{type:"file",accept:"image/*",onChange:m}),e("input",{type:"text",placeholder:"Caption...",value:n,onChange:t=>p(t.target.value)}),e(P,{disabled:d,type:"submit",endIcon:e(N,{}),children:"Upload"})]})})};export{j as default};
